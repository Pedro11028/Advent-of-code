package com.mycompany.day4_part1;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Scanner;


public class Day4_part1 {
    
        public static ArrayList<ArrayList<String>> LerDoficheiroCartoes(String path) throws FileNotFoundException{
        Scanner in = new Scanner(new File(path));
        ArrayList<ArrayList<String>> comments= new ArrayList<ArrayList<String>>();
        ArrayList<String> words = new ArrayList<String>();
        String[] line;
        String str;
        String [] values;
        while(in.hasNextLine()){
            str=in.nextLine();
            line = str.split("\t");
            values = line[2].split(" ");
            for(String word : values){
                words.add(word);
            }
        }

        comments.add(words);
        return comments;
        }

    public static void main(String[] args) throws FileNotFoundException, IOException{
     
    //Ler o ficheiro
    List<String> linesInFile = Files.readAllLines(Paths.get("C:/Users/Pedro/Desktop/input/day4_exemplo.txt"));
    // Criar um arraylist 2D
    List<List<String>> cartoes = new ArrayList<>(linesInFile.size());

    // Separar os valores do ficheiro com espaçoes
    linesInFile.forEach(line -> {
        // Recebe os valores de cada linha e guarda no array
        String[] elements = line.split("\\s+");
        cartoes.add(Arrays.asList(elements));
    });
    
   //Remove os numeros premiados do array dos cartões
   cartoes.remove(0);
   
   //Cria um arrayList para guardar os numeros que contêm os premeos
     List<String> guardarNumeros =  LerNumerosPremiados("C:/Users/Pedro/Desktop/input/day4_exemplo.txt");
    
//Percorre os numeros sorteados e verifica em cada um dos cartões se os valores têm o mesmo valor do numero atual
//Estou a tentar fazer com que remova os espaços vazios no array---Incompleto
    for(int i=0;i<guardarNumeros.size();i++){
        for(int x=0;x<cartoes.size();x++){
            for(int z=0;z<cartoes.get(x).size();z++){
                if(cartoes.get(x).get(z).equals("") || cartoes.get(x).get(z).equals(" ")){
                    cartoes.get(x).remove(z);
                }else if(cartoes.get(x).get(z).equals(guardarNumeros.get(i))){
                    cartoes.get(x).set(z,"-1");               
                }        
            }         
        }       
    }
         

    //Mostra no ecra o array dos cartões e os numeros premiados.
    cartoes.forEach(System.out::println);
    System.out.println("----------------------------------------------------------------------");
    System.out.println(guardarNumeros);
    
    }
    
    public static  List<String> LerNumerosPremiados(String filePath) throws FileNotFoundException {
        File file = new File(filePath);
        Scanner scann = new Scanner(file);

         ArrayList<String> leituraFicheiro = new ArrayList<String>();

        while (scann.hasNextLine()) {

            leituraFicheiro.add(scann.nextLine());

        }

        List<String> output = new ArrayList<String>(Arrays.asList(leituraFicheiro.get(0).split(",")));
        return output;
    }
 }
